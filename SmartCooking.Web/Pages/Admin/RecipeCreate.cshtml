@page
@model SmartCooking.Web.Pages.Admin.RecipeCreateModel
@{
	Layout = "~/Theme/SBAdmin/Main.cshtml";
}


<div class="card mb-5">
	<div class="card-content">
		<div class="card-body">
			<button class="btn btn-success btn-lg" id="itemCategorySubmit">
				ΑΠΟΘΗΚΕΥΣΗ
			</button>
		</div>
	</div>
</div>

@if (Model.HasError)
{
	<div class="alert alert-danger alert-dismissible fade show mb-5" role="alert">
		<strong>@ViewData["Error"]</strong>
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
}


<div class="card mb-2">
	<div class="card-content">
		<div class="card-body">
			<div class="row">
				<div class="col-sm-6">
					<div class="form-group">
						<label class="lead">Περιγραφή Συνταγής</label>
						<input type="text" asp-for="RecipeHeader.Name" class="form-control" />
					</div>
				</div>
				<div class="col-sm-6">
					<div class="form-group">
						<label class="lead">Κωδικός Συνταγής</label>
						<input type="text" class="form-control" asp-for="RecipeHeader.Code" />
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12">
					<label class="lead">Σύντομη Περιγραφή Συνταγής</label>
					<textarea rows="5" class="form-control" asp-for="RecipeHeader.Description"></textarea>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12">
					<label class="lead">Ετικέτες</label>
					<input type="text" class="form-control" asp-for="RecipeHeader.Tags"/>
				</div>
			</div>
		</div>
	</div>
</div>


<div class="card mb-2">
	<div class="card-content">
		<div class="card-body">
			<div class="row">
				<div class="col-sm-12">
					<button class="btn btn-info" id="btnRecipeItemAdd">
						Προσθήκη είδους στη συνταγή
					</button>
				</div>
			</div>
		</div>
	</div>
</div>



<div class="card mb-2">
	<div class="card-content">
		<div class="card-body">
			<table class="table">
				<thead>
					<tr>
						<th>Α/Α</th>
						<th>Περιγραφή Είδους</th>
						<th>Μονάδα Μέτρησης</th>
						<th>Ποσότητα</th>
						<th>Ενέργειες</th>
					</tr>
				</thead>
			</table>
		</div>
	</div>
</div>


@section modals{ 
	<div class="modal fade" id="AddRecipeItemModal" tabindex="-1" role="dialog" aria-labelledby="AddRecipeItemModal" aria-hidden="true">
		<div class="modal-dialog modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5>Προσθήκη Είδους</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-sm-12">
							<div class="form-group">
								<label class="lead">Είδος</label>
								<input type="text" class="form-control" id="itemsList"/>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<div class="form-group">
								<label class="lead">Μονάδα Μέτρησης</label>
								<input type="text" class="form-control" id="unitList" />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<div class="form-group">
								<label class="lead">Ποσότητα</label>
								<input type="text" class="form-control" id="item-qty" />
							</div>
						</div>
					</div>

				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary" id="add-item-to-recipe">Προσθήκη</button>
				</div>
			</div>
		</div>
	</div>
}


@section scripts{ 
	<script>
		$(document).ready(function () {
			$("#btnRecipeItemAdd").click(function (e) {
				e.preventDefault();
				$("#AddRecipeItemModal").modal('show');
			});


			$("#itemsList").autocomplete({
				source: '@Url.Page("RecipeCreate", "SearchItem")'
			});

			$("#unitList").autocomplete({
				source: '@Url.Page("RecipeCreate", "SearchUnit")'
			});




		});
	</script>
}